---
import { restaurantConfig } from '../../data/restaurant.ts';
---

<section 
  id="hero" 
  class="relative min-h-screen flex items-center justify-center overflow-hidden isolate"
>
  <!-- Fondo con imagen + parallax ultra-suave (scale + slight translate on scroll via JS mínimo) -->
  <div class="absolute inset-0 -z-10">
    <img 
      src={restaurantConfig.heroImage} 
      alt={`Imagen principal de ${restaurantConfig.name} – Asador de carnes premium`}
      class="h-full w-full object-cover object-center will-change-transform transition-transform duration-[30s] ease-linear"
      id="hero-bg"
      loading="eager"
    />
  </div>

  <!-- Partículas de brasas (ember effect) – múltiples capas superpuestas con animación ultra-suave y aleatoria -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,#D4AF37_0%,transparent_60%)] opacity-10 animate-[pulse-gold_15s_infinite_ease-in-out]"></div>
    <div class="absolute inset-0 mix-blend-screen opacity-30">
      <div class="absolute top-1/3 left-1/4 w-64 h-64 bg-orange-500/30 rounded-full blur-3xl animate-[ember-float_20s_infinite_linear] animation-delay-[-5s]"></div>
      <div class="absolute top-1/2 right-1/3 w-96 h-96 bg-yellow-500/20 rounded-full blur-3xl animate-[ember-float_25s_infinite_linear] animation-delay-[-12s]"></div>
      <div class="absolute bottom-1/4 left-1/2 w-80 h-80 bg-red-600/20 rounded-full blur-3xl animate-[ember-float_18s_infinite_linear] animation-delay-[-8s]"></div>
    </div>
  </div>

  <!-- Overlay gradient más refinado (más profundidad y contraste) -->
  <div class="absolute inset-0 bg-gradient-to-b from-black/90 via-black/60 to-black/90"></div>

  <!-- Contenido principal -->
  <div class="relative z-10 mx-auto max-w-6xl px-6 text-center text-white">
    <!-- Subtítulo premium con glow dorado -->
    <p 
      class="mb-10 uppercase tracking-[8px] text-sm font-semibold text-[#D4AF37] opacity-0 animate-[fade-in-up_1s_cubic-bezier(0.16,1,0.3,1)_0.4s_forwards] drop-shadow-lg"
      style="text-shadow: 0 0 20px rgba(212,175,55,0.6);"
    >
      Asador de Carnes • Excelencia 2026
    </p>

    <!-- Título con gradient animado + glow de brasas -->
    <h1 
      class="mb-12 font-display text-7xl leading-none tracking-tighter md:text-9xl lg:text-[130px] opacity-0 animate-[fade-in-up_1.4s_cubic-bezier(0.16,1,0.3,1)_0.8s_forwards]"
    >
      <span class="relative inline-block">
        <span class="bg-gradient-to-r from-white via-[#D4AF37] via-60% to-white bg-clip-text text-transparent drop-shadow-2xl">
          {restaurantConfig.name}
        </span>
        <!-- Glow animado de brasas -->
        <span 
          class="absolute inset-0 bg-gradient-to-r from-transparent via-[#D4AF37]/40 to-transparent bg-clip-text text-transparent blur-xl opacity-70 animate-[glow-pulse_4s_infinite_ease-in-out]"
        >
          {restaurantConfig.name}
        </span>
      </span>
    </h1>

    <!-- Tagline con mayor peso visual y entrada más suave -->
    <p 
      class="mx-auto mb-20 max-w-4xl text-2xl font-light leading-relaxed text-gray-100 md:text-4xl opacity-0 animate-[fade-in-up_1.2s_cubic-bezier(0.16,1,0.3,1)_1.2s_forwards] drop-shadow-md"
    >
      {restaurantConfig.tagline}
    </p>

    <!-- Botones con mayor refinamiento (shine más rápido, ripple effect sutil) -->
    <div 
      class="flex flex-col gap-8 sm:flex-row justify-center opacity-0 animate-[fade-in-up_1s_cubic-bezier(0.16,1,0.3,1)_1.6s_forwards]"
    >
      <!-- Botón primario – Dorado intenso con shine más pronunciado -->
      <a 
        href="#menu"
        class="group relative overflow-hidden rounded-full bg-gradient-to-r from-[#D4AF37] to-[#b38f2b] px-16 py-7 text-xl font-bold text-black shadow-2xl transition-all duration-700 ease-out hover:scale-110 hover:shadow-3xl active:scale-95 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-[#D4AF37]/60"
        aria-label="Explorar el menú completo"
      >
        <span class="relative z-10">Explorar Menú</span>
        <div class="absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/40 to-transparent skew-x-12 transition-transform duration-800 group-hover:translate-x-full"></div>
      </a>

      <!-- Botón secundario – Glassmorphism + fill on hover más elegante -->
      <button
        onclick="window.dispatchEvent(new Event('openReservationModal'))"
        class="rounded-full border-3 border-white/80 px-16 py-7 text-xl font-bold text-white backdrop-blur-md transition-all duration-700 ease-out hover:scale-110 hover:border-transparent hover:bg-white/20 hover:text-white hover:shadow-3xl active:scale-95 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-white/60"
        aria-label="Reservar una mesa ahora"
      >
        Reservar Mesa
      </button>
    </div>
  </div>
</section>

<!-- Script mínimo para parallax suave en la imagen de fondo (solo se ejecuta en client) -->
<script is:inline>
  const bg = document.getElementById('hero-bg');
  if (bg) {
    window.addEventListener('scroll', () => {
      const scrollY = window.scrollY;
      bg.style.transform = `translateY(${scrollY * 0.4}px) scale(1.1)`;
    });
  }
</script>

<style is:global>
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(80px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes pulse-gold {
    0%, 100% { opacity: 0.08; }
    50% { opacity: 0.18; }
  }

  @keyframes ember-float {
    0% { transform: translate(0, 0) rotate(0deg); }
    33% { transform: translate(100px, -150px) rotate(30deg); }
    66% { transform: translate(-80px, -100px) rotate(-20deg); }
    100% { transform: translate(0, 0) rotate(0deg); }
  }

  @keyframes glow-pulse {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 0.9; }
  }
</style>